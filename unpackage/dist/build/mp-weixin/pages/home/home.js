"use strict";const e=require("../../common/vendor.js"),o=require("../../store/home.js");if(require("../../service/home.js"),require("../../service/index.js"),!Array){(e.resolveComponent("tab-control")+e.resolveComponent("grid-view-item")+e.resolveComponent("uni-grid-item")+e.resolveComponent("uni-grid"))()}Math||(n+i+t+(()=>"../../components/tab-control/tab-control.js")+(()=>"../../components/grid-view-item/grid-view-item.js")+(()=>"../../uni_modules/uni-grid/components/uni-grid-item/uni-grid-item.js")+(()=>"../../uni_modules/uni-grid/components/uni-grid/uni-grid.js"))();const n=()=>"./cpns/home-banner.js",i=()=>"./cpns/home-recommend.js",t=()=>"./cpns/home-popular.js",r={__name:"home",setup(n){const i=o.useHomeStore(),{banners:t,recommends:r,goodsList:s}=e.storeToRefs(i),a=e.ref(0);e.onLoad((()=>{i.fetchHomeMultiData(),i.fetchHomeData("pop",1),i.fetchHomeData("new",1),i.fetchHomeData("sell",1)})),e.onReachBottom((()=>{i.fetchHomeData(o.types[a.value],s.value[[o.types[a.value]]].page+1)}));const c=o=>{e.index.navigateTo({url:"/pages/webview/webview?link="+o})},m=o=>{e.index.navigateTo({url:"/pages/webview/webview?link="+o})},d=e=>{a.value=e};return(n,i)=>({a:e.o(c),b:e.p({banners:e.unref(t)}),c:e.o(m),d:e.p({recommends:e.unref(r)}),e:e.o(d),f:e.p({titles:["流行","新款","精选"]}),g:e.f(e.unref(s)[e.unref(o.types)[a.value]].list,((o,n,i)=>({a:"c48adcd8-6-"+i+",c48adcd8-5-"+i,b:e.p({"goods-info":o}),c:"c48adcd8-5-"+i+",c48adcd8-4",d:o.iid}))),h:e.p({column:2,square:!1,"show-border":!1,highlight:!1})})}};wx.createPage(r);
